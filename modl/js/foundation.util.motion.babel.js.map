{"version":3,"sources":["foundation/foundation.util.motion.js"],"names":[],"mappings":"AAAA;;AAEA,CAAC,UAAS,CAAT,EAAY;;;;;;;AAOb,MAAM,cAAgB,CAAC,WAAD,EAAc,WAAd,CAAhB,CAPO;AAQb,MAAM,gBAAgB,CAAC,kBAAD,EAAqB,kBAArB,CAAhB,CARO;;AAUb,MAAM,SAAS;AACb,eAAW,mBAAS,OAAT,EAAkB,SAAlB,EAA6B,EAA7B,EAAiC;AAC1C,cAAQ,IAAR,EAAc,OAAd,EAAuB,SAAvB,EAAkC,EAAlC,EAD0C;KAAjC;;AAIX,gBAAY,oBAAS,OAAT,EAAkB,SAAlB,EAA6B,EAA7B,EAAiC;AAC3C,cAAQ,KAAR,EAAe,OAAf,EAAwB,SAAxB,EAAmC,EAAnC,EAD2C;KAAjC;GALR,CAVO;;AAoBb,WAAS,IAAT,CAAc,QAAd,EAAwB,IAAxB,EAA8B,EAA9B,EAAiC;AAC/B,QAAI,IAAJ;QAAU,IAAV;QAAgB,QAAQ,IAAR;;;AADe,aAItB,IAAT,CAAc,EAAd,EAAiB;AACf,UAAG,CAAC,KAAD,EAAQ,QAAQ,OAAO,WAAP,CAAmB,GAAnB,EAAR,CAAX;;AADe,UAGf,GAAO,KAAK,KAAL,CAHQ;AAIf,SAAG,KAAH,CAAS,IAAT,EAJe;;AAMf,UAAG,OAAO,QAAP,EAAgB;AAAE,eAAO,OAAO,qBAAP,CAA6B,IAA7B,EAAmC,IAAnC,CAAP,CAAF;OAAnB,MACI;AACF,eAAO,oBAAP,CAA4B,IAA5B,EADE;AAEF,aAAK,OAAL,CAAa,qBAAb,EAAoC,CAAC,IAAD,CAApC,EAA4C,cAA5C,CAA2D,qBAA3D,EAAkF,CAAC,IAAD,CAAlF,EAFE;OADJ;KANF;AAYA,WAAO,OAAO,qBAAP,CAA6B,IAA7B,CAAP,CAhB+B;GAAjC;;;;;;;;;;;AApBa,WAgDJ,OAAT,CAAiB,IAAjB,EAAuB,OAAvB,EAAgC,SAAhC,EAA2C,EAA3C,EAA+C;AAC7C,cAAU,EAAE,OAAF,EAAW,EAAX,CAAc,CAAd,CAAV,CAD6C;;AAG7C,QAAI,CAAC,QAAQ,MAAR,EAAgB,OAArB;;AAEA,QAAI,YAAY,OAAO,YAAY,CAAZ,CAAP,GAAwB,YAAY,CAAZ,CAAxB,CAL6B;AAM7C,QAAI,cAAc,OAAO,cAAc,CAAd,CAAP,GAA0B,cAAc,CAAd,CAA1B;;;AAN2B,SAS7C,GAT6C;;AAW7C,YACG,QADH,CACY,SADZ,EAEG,GAFH,CAEO,YAFP,EAEqB,MAFrB,EAX6C;;AAe7C,0BAAsB,YAAM;AAC1B,cAAQ,QAAR,CAAiB,SAAjB,EAD0B;AAE1B,UAAI,IAAJ,EAAU,QAAQ,IAAR,GAAV;KAFoB,CAAtB;;;AAf6C,yBAqB7C,CAAsB,YAAM;AAC1B,cAAQ,CAAR,EAAW,WAAX,CAD0B;AAE1B,cACG,GADH,CACO,YADP,EACqB,EADrB,EAEG,QAFH,CAEY,WAFZ,EAF0B;KAAN,CAAtB;;;AArB6C,WA6B7C,CAAQ,GAAR,CAAY,WAAW,aAAX,CAAyB,OAAzB,CAAZ,EAA+C,MAA/C;;;AA7B6C,aAgCpC,MAAT,GAAkB;AAChB,UAAI,CAAC,IAAD,EAAO,QAAQ,IAAR,GAAX;AACA,cAFgB;AAGhB,UAAI,EAAJ,EAAQ,GAAG,KAAH,CAAS,OAAT,EAAR;KAHF;;;AAhC6C,aAuCpC,KAAT,GAAiB;AACf,cAAQ,CAAR,EAAW,KAAX,CAAiB,kBAAjB,GAAsC,CAAtC,CADe;AAEf,cAAQ,WAAR,CAAuB,kBAAa,oBAAe,SAAnD,EAFe;KAAjB;GAvCF;;AA6CA,aAAW,IAAX,GAAkB,IAAlB,CA7Fa;AA8Fb,aAAW,MAAX,GAAoB,MAApB,CA9Fa;CAAZ,CAgGC,MAhGD,CAAD","file":"foundation.util.motion.babel.js","sourcesContent":["'use strict';\n\n!function($) {\n\n/**\n * Motion module.\n * @module foundation.motion\n */\n\nconst initClasses   = ['mui-enter', 'mui-leave'];\nconst activeClasses = ['mui-enter-active', 'mui-leave-active'];\n\nconst Motion = {\n  animateIn: function(element, animation, cb) {\n    animate(true, element, animation, cb);\n  },\n\n  animateOut: function(element, animation, cb) {\n    animate(false, element, animation, cb);\n  }\n}\n\nfunction Move(duration, elem, fn){\n  var anim, prog, start = null;\n  // console.log('called');\n\n  function move(ts){\n    if(!start) start = window.performance.now();\n    // console.log(start, ts);\n    prog = ts - start;\n    fn.apply(elem);\n\n    if(prog < duration){ anim = window.requestAnimationFrame(move, elem); }\n    else{\n      window.cancelAnimationFrame(anim);\n      elem.trigger('finished.zf.animate', [elem]).triggerHandler('finished.zf.animate', [elem]);\n    }\n  }\n  anim = window.requestAnimationFrame(move);\n}\n\n/**\n * Animates an element in or out using a CSS transition class.\n * @function\n * @private\n * @param {Boolean} isIn - Defines if the animation is in or out.\n * @param {Object} element - jQuery or HTML object to animate.\n * @param {String} animation - CSS class to use.\n * @param {Function} cb - Callback to run when animation is finished.\n */\nfunction animate(isIn, element, animation, cb) {\n  element = $(element).eq(0);\n\n  if (!element.length) return;\n\n  var initClass = isIn ? initClasses[0] : initClasses[1];\n  var activeClass = isIn ? activeClasses[0] : activeClasses[1];\n\n  // Set up the animation\n  reset();\n\n  element\n    .addClass(animation)\n    .css('transition', 'none');\n\n  requestAnimationFrame(() => {\n    element.addClass(initClass);\n    if (isIn) element.show();\n  });\n\n  // Start the animation\n  requestAnimationFrame(() => {\n    element[0].offsetWidth;\n    element\n      .css('transition', '')\n      .addClass(activeClass);\n  });\n\n  // Clean up the animation when it finishes\n  element.one(Foundation.transitionend(element), finish);\n\n  // Hides the element (for out animations), resets the element, and runs a callback\n  function finish() {\n    if (!isIn) element.hide();\n    reset();\n    if (cb) cb.apply(element);\n  }\n\n  // Resets transitions and removes motion-specific classes\n  function reset() {\n    element[0].style.transitionDuration = 0;\n    element.removeClass(`${initClass} ${activeClass} ${animation}`);\n  }\n}\n\nFoundation.Move = Move;\nFoundation.Motion = Motion;\n\n}(jQuery);\n"]}